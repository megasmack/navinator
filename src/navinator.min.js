/*
 * Navinator v0.0.1
 * https://github.com/gsmke/navinator
 */
(function(factory){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports!=="undefined"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){"use strict";var Navinator=window.Navinator||{};Navinator=function(){function Navinator(element,settings){var _=this;_.defaults={buttonElement:"#navinator-button",direction:"left",minWidth:0,navZ:"bottom",pageElement:"#page-container"};_.options=$.extend({},_.defaults,settings);_.$navElement=$(element);_.$pageElement=$(_.options.pageElement);_.$buttonElement=$(_.options.buttonElement);_.navCreated=false;if(_.$pageElement.length===0){console.error("%cNavinator Error: pageElement doesn't exist","font-weight: bold")}else if(_.$buttonElement.length===0){console.error("%cNavinator Error: buttonElement doesn't exist","font-weight: bold")}else{_.init()}}return Navinator}();Navinator.prototype.addPrefix=function($el){$el.find("*").each(function(index,el){var $el=$(el);var elementId=$el.attr("id"),elementClass=$el.attr("class");if(typeof elementId==="string"&&""!==elementId){$el.attr("id",elementId.replace(/([A-Za-z0-9_.\-]+)/g,"navinator-$1"))}if(typeof elementClass==="string"&&""!==elementClass){$el.attr("class",elementClass.replace(/([A-Za-z0-9_.\-]+)/g,"navinator-$1"))}})};Navinator.prototype.create=function(){var _=this;if(!_.navCreated){$("body").append('<div id="navinator-menu"></div>');_.$navElement.clone().appendTo($("#navinator-menu"));_.addPrefix($("#navinator-menu"));if(_.options.direction==="right"){_.$pageElement.css("right",0)}else{_.$pageElement.css("left",0)}if(_.options.navZ==="top"){$("#navinator-menu").addClass("navinator-z-top")}else{$("#navinator-menu").addClass("navinator-z-bottom")}_.$buttonElement.click(function(ev){ev.preventDefault();_.menuToggle()});_.$navElement.hide();_.$buttonElement.show();if(!_.$pageElement.hasClass("navinator-initialized")){_.$pageElement.addClass("navinator-initialized");console.log("%cNavinator Initialized!","font-size: 1.1em; font-weight: bold; color: green")}_.navCreated=true}};Navinator.prototype.destroy=function(){var _=this;if(_.navCreated){$("html").removeClass("navinator-open");$("#navinator-menu").remove();_.$navElement.show();_.$buttonElement.hide();_.$pageElement.removeClass("navinator-initialized").removeAttr("style");console.log("%cNavinator Destroyed!","font-weight: bold; color: orange");_.navCreated=false}};Navinator.prototype.updateMeasurements=function(){var _=this;var $win=$(window);_.winWidths[0].winWidth=$win.width();_.winWidths[0].openWidth=$win.width()-50;_.winWidths[0].viewWidth=window.outerWidth;_.winWidths[0].winHeight=$win.height();_.$pageElement.width(_.winWidths[0].winWidth).css("min-height",_.winWidths[0].winHeight)};Navinator.prototype.menuToggle=function(){var _=this;if($("html").hasClass("navinator-open")){if(_.options.direction==="right"){_.$pageElement.css("right",0)}else{_.$pageElement.css("left",0)}$("html").removeClass("navinator-open")}else{if(_.options.direction==="right"){_.$pageElement.css("right",-_.winWidths[0].openWidth)}else{_.$pageElement.css("left",-_.winWidths[0].openWidth)}$("html").addClass("navinator-open")}};Navinator.prototype.init=function(){var _=this;_.winWidths=[];_.winWidths.push({winWidth:0,winHeight:0,openWidth:0,viewWidth:0});_.$buttonElement.hide();_.resizeWindow=function(){_.updateMeasurements();if(_.options.minWidth>=_.winWidths[0].viewWidth||_.options.minWidth===0){_.create()}else{_.destroy()}};$(window).resize(_.resizeWindow);_.resizeWindow()};$.fn.navinator=function(options){var _=this;return _.each(function(index,element){element.navinator=new Navinator(element,options)})}});
